# papyrusmap

Reimplementation of [PapyrusCS](https://github.com/papyrus-mc/papyruscs)'s map, in Vite.

## Setup

1.  [Install `node` and `npm`](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)

1.  Install dependecies with `npm i`

1.  Add to `src/public/`:

    -   All `dim` folders generated by PapyrusCS

    -   A `layers.json` file

        In PapyrusCS's `index.html`, there are two lines like:
        ```js
        layers = {"dim0":{...},...}; 
        config = {"factor":65536.0,"globalMinZoom":11,"globalMaxZoom":20,"tileSize":512,"blocksPerTile":32};
        ```

        `layers.json` should therefore look like
        ```json
        {
            "layers": {"dim0":{...},...},
            "config": {"factor":65536.0,"globalMinZoom":11,"globalMaxZoom":20,"tileSize":512,"blocksPerTile":32}
        }
        ```

        Note the changing of semicolons (first to comma, second removed), the changing of equals signs to colons, and the quoting of `layers` and `config`.

    -   \[Optional\] `playersData.json`, containing everything in `playersData.js` starting at the first `{` and ending at the last `}`

1.  Then run `npm run build` to produce a `dist/` folder

1.  Copy the contents of `dist/` to your web host.

    -   Unlike PapyrusCS's built-in map, this map will not work if you open `index.html` locally; it has to be running through a web server.
